import{r as C,x as g,j as e,Q as D}from"./app-DMKBpFIz.js";import{D as F}from"./DashboardMenu-B7l9DV7G.js";import{T as t,I as o}from"./TextInput-rUINON4N.js";import{I as a}from"./InputLabel-BQ2bv1qT.js";import{P as p}from"./PrimaryButton-CkLoaNyZ.js";import"./ApplicationLogo-Drsyl8tJ.js";import"./ResponsiveNavLink-DZ_RqWqn.js";import"./transition-BavGhLjJ.js";import"./SafeLink-Cw2_-Rwm.js";function V({settings:n,businessHours:u,workingDays:j}){const[m,x]=C.useState("general"),{data:i,setData:r,patch:v,processing:h,errors:d}=g({business_name:n.business_name||"",business_email:n.business_email||"",business_phone:n.business_phone||"",business_address:n.business_address||"",max_appointments_per_day:n.max_appointments_per_day||20,appointment_duration:n.appointment_duration||30,advance_booking_days:n.advance_booking_days||30,auto_expire_days:n.auto_expire_days||7,enable_email_notifications:n.enable_email_notifications||!0,enable_sms_notifications:n.enable_sms_notifications||!1}),{data:l,setData:c,patch:y}=g({start_time:u.start_time||"08:00",end_time:u.end_time||"17:00",lunch_start:u.lunch_start||"12:00",lunch_end:u.lunch_end||"14:00",working_days:j||[1,2,3,4,5]}),b=s=>{s.preventDefault(),v(route("admin.settings.update"))},f=s=>{s.preventDefault(),y(route("admin.settings.hours"))},N=s=>{const _=l.working_days.includes(s)?l.working_days.filter(w=>w!==s):[...l.working_days,s];c("working_days",_)},k={1:"Lundi",2:"Mardi",3:"Mercredi",4:"Jeudi",5:"Vendredi",6:"Samedi",0:"Dimanche"};return e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Paramètres"}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(F,{}),e.jsx("header",{className:"bg-white shadow-sm border-b mb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Paramètres"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Configuration du système"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>x("general"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="general"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Général"}),e.jsx("button",{onClick:()=>x("hours"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="hours"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Horaires"}),e.jsx("button",{onClick:()=>x("notifications"),className:`py-2 px-1 border-b-2 font-medium text-sm ${m==="notifications"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Notifications"})]})}),m==="general"&&e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Paramètres généraux"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"business_name",value:"Nom de l'établissement"}),e.jsx(t,{id:"business_name",type:"text",name:"business_name",value:i.business_name,className:"mt-1 block w-full",onChange:s=>r("business_name",s.target.value)}),e.jsx(o,{message:d.business_name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"business_email",value:"Email de contact"}),e.jsx(t,{id:"business_email",type:"email",name:"business_email",value:i.business_email,className:"mt-1 block w-full",onChange:s=>r("business_email",s.target.value)}),e.jsx(o,{message:d.business_email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"business_phone",value:"Téléphone"}),e.jsx(t,{id:"business_phone",type:"text",name:"business_phone",value:i.business_phone,className:"mt-1 block w-full",onChange:s=>r("business_phone",s.target.value)}),e.jsx(o,{message:d.business_phone,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"max_appointments_per_day",value:"RDV max par jour"}),e.jsx(t,{id:"max_appointments_per_day",type:"number",name:"max_appointments_per_day",value:i.max_appointments_per_day,className:"mt-1 block w-full",onChange:s=>r("max_appointments_per_day",s.target.value)}),e.jsx(o,{message:d.max_appointments_per_day,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"appointment_duration",value:"Durée RDV (minutes)"}),e.jsx(t,{id:"appointment_duration",type:"number",name:"appointment_duration",value:i.appointment_duration,className:"mt-1 block w-full",onChange:s=>r("appointment_duration",s.target.value)}),e.jsx(o,{message:d.appointment_duration,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"advance_booking_days",value:"Réservation à l'avance (jours)"}),e.jsx(t,{id:"advance_booking_days",type:"number",name:"advance_booking_days",value:i.advance_booking_days,className:"mt-1 block w-full",onChange:s=>r("advance_booking_days",s.target.value)}),e.jsx(o,{message:d.advance_booking_days,className:"mt-2"})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"business_address",value:"Adresse"}),e.jsx("textarea",{id:"business_address",name:"business_address",value:i.business_address,className:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",rows:"3",onChange:s=>r("business_address",s.target.value)}),e.jsx(o,{message:d.business_address,className:"mt-2"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{disabled:h,children:"Sauvegarder"})})]})]})}),m==="hours"&&e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Horaires de travail"}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"start_time",value:"Heure de début"}),e.jsx(t,{id:"start_time",type:"time",name:"start_time",value:l.start_time,className:"mt-1 block w-full",onChange:s=>c("start_time",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"end_time",value:"Heure de fin"}),e.jsx(t,{id:"end_time",type:"time",name:"end_time",value:l.end_time,className:"mt-1 block w-full",onChange:s=>c("end_time",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"lunch_start",value:"Début pause déjeuner"}),e.jsx(t,{id:"lunch_start",type:"time",name:"lunch_start",value:l.lunch_start,className:"mt-1 block w-full",onChange:s=>c("lunch_start",s.target.value)})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"lunch_end",value:"Fin pause déjeuner"}),e.jsx(t,{id:"lunch_end",type:"time",name:"lunch_end",value:l.lunch_end,className:"mt-1 block w-full",onChange:s=>c("lunch_end",s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(a,{value:"Jours de travail"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(k).map(([s,_])=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:l.working_days.includes(parseInt(s)),onChange:()=>N(parseInt(s)),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:_})]},s))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{disabled:h,children:"Sauvegarder les horaires"})})]})]})}),m==="notifications"&&e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Paramètres de notifications"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"enable_email_notifications",type:"checkbox",checked:i.enable_email_notifications,onChange:s=>r("enable_email_notifications",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"enable_email_notifications",className:"ml-2 text-sm text-gray-700",children:"Activer les notifications par email"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"enable_sms_notifications",type:"checkbox",checked:i.enable_sms_notifications,onChange:s=>r("enable_sms_notifications",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"enable_sms_notifications",className:"ml-2 text-sm text-gray-700",children:"Activer les notifications par SMS"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(p,{disabled:h,children:"Sauvegarder"})})]})]})})]})]})]})}export{V as default};
