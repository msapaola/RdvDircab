import{r as o,x as i,j as e,Q as g,t as b,S as f}from"./app-DW1iR-9L.js";import{P as m}from"./PrimaryButton-Bg6oyuKT.js";import{S as x}from"./dialog-Dsauoj1h.js";import{M as v}from"./Modal-Bn5OUmr0.js";import{S as d}from"./StatusBadge-BKO-X_r0.js";import{D as N}from"./DashboardMenu-BhN8Dc-Z.js";import"./transition-DgnM2GEq.js";import"./ApplicationLogo-DV6Inhxc.js";import"./ResponsiveNavLink-NyvCppJG.js";import"./SafeLink-5bX7XluK.js";function O({users:a,stats:n,filters:r}){var c;console.log("Users component rendered with:",{users:a,stats:n,filters:r});const[u,l]=o.useState(!1),[w,y]=o.useState(!1),[S,C]=o.useState(!1),[M,k]=o.useState(null),h=i({role:r.role||"",search:r.search||"",status:r.status||"",sort_by:r.sort_by||"created_at",sort_order:r.sort_order||"desc"}),s=i({name:"",email:"",password:"",password_confirmation:"",role:"assistant"});i({name:"",email:"",password:"",password_confirmation:"",role:""});const j=()=>{h.reset(),f.get(route("admin.users.index"))},p=()=>{s.post(route("admin.users.store"),{onSuccess:()=>{l(!1),s.reset()}})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Gestion des utilisateurs - Administration"}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(N,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Gestion des utilisateurs"}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test de la page"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Stats:"})," ",JSON.stringify(n)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Filters:"})," ",JSON.stringify(r)]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Users count:"})," ",((c=a==null?void 0:a.data)==null?void 0:c.length)||0]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(b,{href:route("admin.dashboard"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Retour au tableau de bord"}),e.jsx(m,{onClick:()=>l(!0),children:"Nouvel utilisateur"}),e.jsx(x,{onClick:j,children:"Réinitialiser"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Users data:"}),e.jsx("pre",{className:"text-xs bg-gray-100 p-2 mt-2 rounded",children:JSON.stringify(a,null,2)})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Test StatusBadge:"}),e.jsxs("div",{className:"mt-2 space-x-2",children:[e.jsx(d,{status:"Administrateur",color:"red"}),e.jsx(d,{status:"Assistant",color:"blue"}),e.jsx(d,{status:"Actif",color:"green"}),e.jsx(d,{status:"Inactif",color:"gray"})]})]})]})]})]})]}),e.jsx(v,{show:u,onClose:()=>l(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Nouvel utilisateur"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),e.jsx("input",{type:"text",value:s.data.name,onChange:t=>s.setData("name",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.errors.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.errors.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:s.data.email,onChange:t=>s.setData("email",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.errors.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.errors.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),e.jsx("input",{type:"password",value:s.data.password,onChange:t=>s.setData("password",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),s.errors.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.errors.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),e.jsx("input",{type:"password",value:s.data.password_confirmation,onChange:t=>s.setData("password_confirmation",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rôle"}),e.jsxs("select",{value:s.data.role,onChange:t=>s.setData("role",t.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"assistant",children:"Assistant"}),e.jsx("option",{value:"admin",children:"Administrateur"})]}),s.errors.role&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.errors.role})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx(x,{onClick:()=>l(!1),children:"Annuler"}),e.jsx(m,{onClick:p,disabled:s.processing,children:s.processing?"Création...":"Créer"})]})]})})]})}export{O as default};
