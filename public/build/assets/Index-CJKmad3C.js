import{r as l,S as x,x as ee,j as e,Q as se}from"./app-DfCkdPSl.js";import{P as y}from"./PrimaryButton-pWiBzhEs.js";import{S as j}from"./dialog-Baqani6p.js";import{M as w}from"./Modal-DfxO-5pi.js";import{D as te}from"./DashboardMenu-CC9v1rJg.js";import{S as O}from"./SafeLink-DG4oaNWA.js";import"./transition-BqUi2F_O.js";import"./ApplicationLogo-CQ_2wpXd.js";import"./ResponsiveNavLink-DZLgmrZq.js";function me({appointments:r,stats:o,filters:i}){const[H,b]=l.useState(!1),[W,f]=l.useState(!1),[I,k]=l.useState(!1),[L,p]=l.useState(!1),[t,m]=l.useState(null),[n,u]=l.useState([]),[C,z]=l.useState(""),[_,M]=l.useState(""),[d,$]=l.useState(""),[N,T]=l.useState(""),[v,P]=l.useState("table"),[S,G]=l.useState(!1);l.useEffect(()=>{if(!S)return;const s=setInterval(()=>{x.reload({only:["appointments","stats"]})},3e4);return()=>clearInterval(s)},[S]);const a=ee({status:i.status||"",priority:i.priority||"",date_from:i.date_from||"",date_to:i.date_to||"",search:i.search||"",sort_by:i.sort_by||"created_at",sort_order:i.sort_order||"desc",per_page:i.per_page||20}),Q=()=>{a.get(route("admin.appointments.index"))},Z=()=>{a.reset(),x.get(route("admin.appointments.index"))},J=()=>{if(!C.trim()){alert("Veuillez indiquer une raison de refus.");return}x.post(route("admin.appointments.reject",t.id),{rejection_reason:C},{onSuccess:()=>{b(!1),m(null),z("")}})},K=()=>{if(!_.trim()){alert("Veuillez indiquer une raison d'annulation.");return}x.post(route("admin.appointments.cancel",t.id),{admin_notes:_},{onSuccess:()=>{f(!1),m(null),M("")}})},q=s=>{confirm("Êtes-vous sûr de vouloir accepter ce rendez-vous ?")&&x.post(route("admin.appointments.accept",s.id))},U=s=>{confirm("Marquer ce rendez-vous comme terminé ?")&&x.post(route("admin.appointments.complete",s.id))},X=()=>{if(!d){alert("Veuillez sélectionner une action.");return}if(n.length===0){alert("Veuillez sélectionner au moins un rendez-vous.");return}if((d==="reject"||d==="cancel")&&!N.trim()){alert("Veuillez indiquer une raison.");return}const s=n.map(c=>{const g=d==="reject"?{rejection_reason:N}:d==="cancel"?{admin_notes:N}:{};return fetch(route(`admin.appointments.${d}`,c),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify(g)})});Promise.all(s).then(()=>{p(!1),u([]),$(""),T(""),x.reload({only:["appointments","stats"]})})},V=s=>{u(c=>c.includes(s)?c.filter(g=>g!==s):[...c,s])},E=()=>{n.length===r.data.length?u([]):u(r.data.map(s=>s.id))},F=s=>{m(s),b(!0)},Y=s=>{m(s),f(!0)},B=s=>{m(s),k(!0)},A=s=>{switch(s){case"urgent":return"text-red-600 bg-red-100";case"official":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},R=s=>{switch(s){case"pending":return"text-orange-600 bg-orange-100";case"accepted":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"canceled":case"canceled_by_requester":return"text-gray-600 bg-gray-100";case"completed":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},h=s=>new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),D=s=>s;return e.jsxs(e.Fragment,{children:[e.jsx(se,{title:"Gestion des rendez-vous - Administration"}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(te,{}),e.jsx("header",{className:"bg-white shadow-sm border-b mb-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des rendez-vous"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Outil de gestion efficace des demandes de rendez-vous"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"autoRefresh",checked:S,onChange:s=>G(s.target.checked),className:"rounded border-gray-300"}),e.jsx("label",{htmlFor:"autoRefresh",className:"text-sm text-gray-600",children:"Auto-refresh"})]}),e.jsx(O,{href:route("admin.dashboard"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Retour au tableau de bord"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-gray-400",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.total}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-orange-400",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-500",children:o.pending}),e.jsx("div",{className:"text-sm text-gray-600",children:"En attente"}),o.pending>0&&e.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"⚠️ Action requise"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-green-400",children:[e.jsx("div",{className:"text-2xl font-bold text-green-500",children:o.accepted}),e.jsx("div",{className:"text-sm text-gray-600",children:"Acceptés"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-red-400",children:[e.jsx("div",{className:"text-2xl font-bold text-red-500",children:o.rejected}),e.jsx("div",{className:"text-sm text-gray-600",children:"Refusés"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-gray-300",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:o.canceled}),e.jsx("div",{className:"text-sm text-gray-600",children:"Annulés"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 text-center border-l-4 border-blue-400",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-500",children:o.completed}),e.jsx("div",{className:"text-sm text-gray-600",children:"Terminés"})]})]}),n.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-blue-800 font-medium",children:[n.length," rendez-vous sélectionné(s)"]}),e.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700",children:"Actions en lot"})]}),e.jsx("button",{onClick:()=>u([]),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Annuler la sélection"})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtres et recherche"}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>P("table"),className:`px-3 py-1 rounded-md text-sm font-medium ${v==="table"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Tableau"}),e.jsx("button",{onClick:()=>P("cards"),className:`px-3 py-1 rounded-md text-sm font-medium ${v==="cards"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Cartes"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),e.jsxs("select",{value:a.data.status,onChange:s=>a.setData("status",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Tous les statuts"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"accepted",children:"Accepté"}),e.jsx("option",{value:"rejected",children:"Refusé"}),e.jsx("option",{value:"canceled",children:"Annulé"}),e.jsx("option",{value:"canceled_by_requester",children:"Annulé par le demandeur"}),e.jsx("option",{value:"expired",children:"Expiré"}),e.jsx("option",{value:"completed",children:"Terminé"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),e.jsxs("select",{value:a.data.priority,onChange:s=>a.setData("priority",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Toutes les priorités"}),e.jsx("option",{value:"normal",children:"Normale"}),e.jsx("option",{value:"urgent",children:"Urgente"}),e.jsx("option",{value:"official",children:"Officielle"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recherche"}),e.jsx("input",{type:"text",value:a.data.search,onChange:s=>a.setData("search",s.target.value),placeholder:"Nom, email ou objet...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Par page"}),e.jsxs("select",{value:a.data.per_page,onChange:s=>a.setData("per_page",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"20",children:"20"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:a.data.date_from,onChange:s=>a.setData("date_from",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:a.data.date_to,onChange:s=>a.setData("date_to",s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tri"}),e.jsxs("select",{value:`${a.data.sort_by}-${a.data.sort_order}`,onChange:s=>{const[c,g]=s.target.value.split("-");a.setData("sort_by",c),a.setData("sort_order",g)},className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"created_at-desc",children:"Plus récents"}),e.jsx("option",{value:"created_at-asc",children:"Plus anciens"}),e.jsx("option",{value:"preferred_date-asc",children:"Date RDV (croissant)"}),e.jsx("option",{value:"preferred_date-desc",children:"Date RDV (décroissant)"}),e.jsx("option",{value:"name-asc",children:"Nom (A-Z)"}),e.jsx("option",{value:"name-desc",children:"Nom (Z-A)"}),e.jsx("option",{value:"priority-desc",children:"Priorité (haute → basse)"}),e.jsx("option",{value:"priority-asc",children:"Priorité (basse → haute)"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(y,{onClick:Q,children:"🔍 Appliquer les filtres"}),e.jsx(j,{onClick:Z,children:"🔄 Réinitialiser"})]})]}),v==="table"&&e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Rendez-vous (",r.total,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:n.length===r.data.length&&r.data.length>0,onChange:E,className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Sélectionner tout"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:n.length===r.data.length&&r.data.length>0,onChange:E,className:"rounded border-gray-300"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demandeur"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Objet"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date/Heure"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.data.map(s=>e.jsxs("tr",{className:`hover:bg-gray-50 ${s.status==="pending"?"bg-orange-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:n.includes(s.id),onChange:()=>V(s.id),className:"rounded border-gray-300"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email}),e.jsx("div",{className:"text-xs text-gray-400",children:s.phone})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:s.subject}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Créé le ",h(s.created_at)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:h(s.preferred_date)}),e.jsx("div",{className:"text-sm text-gray-500",children:D(s.preferred_time)})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A(s.priority)}`,children:s.formatted_priority})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(s.status)}`,children:s.formatted_status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>B(s),className:"text-blue-600 hover:text-blue-900",children:"👁️ Voir"}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>q(s),className:"text-green-600 hover:text-green-900",children:"✅ Accepter"}),e.jsx("button",{onClick:()=>F(s),className:"text-red-600 hover:text-red-900",children:"❌ Refuser"}),e.jsx("button",{onClick:()=>Y(s),className:"text-gray-600 hover:text-gray-900",children:"🚫 Annuler"})]}),s.status==="accepted"&&e.jsx("button",{onClick:()=>U(s),className:"text-blue-600 hover:text-blue-900",children:"✅ Terminer"})]})})]},s.id))})]})}),r.links&&e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Affichage de ",r.from," à ",r.to," sur ",r.total," résultats"]}),e.jsx("div",{className:"flex space-x-2",children:r.links.map((s,c)=>e.jsx(O,{href:s.url,className:`px-3 py-2 text-sm rounded-md ${s.active?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},c))})]})})]}),v==="cards"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.data.map(s=>e.jsx("div",{className:`bg-white rounded-lg shadow-md border-l-4 ${s.status==="pending"?"border-orange-400":s.status==="accepted"?"border-green-400":s.status==="rejected"?"border-red-400":s.status==="completed"?"border-blue-400":"border-gray-400"}`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.email}),e.jsx("p",{className:"text-xs text-gray-500",children:s.phone})]}),e.jsx("input",{type:"checkbox",checked:n.includes(s.id),onChange:()=>V(s.id),className:"rounded border-gray-300"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-900 font-medium mb-2",children:s.subject}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.message&&s.message.substring(0,100),"..."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),e.jsx("p",{className:"text-sm font-medium",children:h(s.preferred_date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Heure"}),e.jsx("p",{className:"text-sm font-medium",children:D(s.preferred_time)})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A(s.priority)}`,children:s.formatted_priority}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(s.status)}`,children:s.formatted_status})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>B(s),className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700",children:"👁️ Détails"}),s.status==="pending"&&e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>q(s),className:"bg-green-600 text-white px-2 py-2 rounded-md text-sm hover:bg-green-700",title:"Accepter",children:"✅"}),e.jsx("button",{onClick:()=>F(s),className:"bg-red-600 text-white px-2 py-2 rounded-md text-sm hover:bg-red-700",title:"Refuser",children:"❌"})]})]})]})},s.id))})]})]}),e.jsx(w,{show:I,onClose:()=>k(!1),maxWidth:"2xl",children:t&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Détails du rendez-vous - ",t.name]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Informations du demandeur"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Nom :"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email :"})," ",t.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Téléphone :"})," ",t.phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Date de création :"})," ",h(t.created_at)]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Détails du rendez-vous"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Objet :"})," ",t.subject]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Date souhaitée :"})," ",h(t.preferred_date)]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Heure souhaitée :"})," ",D(t.preferred_time)]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Priorité :"}),e.jsx("span",{className:`ml-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A(t.priority)}`,children:t.formatted_priority})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Statut :"}),e.jsx("span",{className:`ml-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${R(t.status)}`,children:t.formatted_status})]})]})]})]}),t.message&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Message du demandeur"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.message})})]}),t.rejection_reason&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Raison du refus"}),e.jsx("div",{className:"bg-red-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm text-red-700",children:t.rejection_reason})})]}),t.admin_notes&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notes administratives"}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm text-blue-700",children:t.admin_notes})})]}),e.jsx("div",{className:"mt-6 flex justify-end space-x-3",children:e.jsx(j,{onClick:()=>k(!1),children:"Fermer"})})]})}),e.jsx(w,{show:H,onClose:()=>b(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Refuser le rendez-vous"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez indiquer la raison du refus pour le rendez-vous de ",e.jsx("strong",{children:t==null?void 0:t.name}),"."]}),e.jsx("textarea",{value:C,onChange:s=>z(s.target.value),placeholder:"Raison du refus...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx(j,{onClick:()=>b(!1),children:"Annuler"}),e.jsx(y,{onClick:J,children:"Confirmer le refus"})]})]})}),e.jsx(w,{show:W,onClose:()=>f(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Annuler le rendez-vous"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Veuillez indiquer la raison de l'annulation pour le rendez-vous de ",e.jsx("strong",{children:t==null?void 0:t.name}),"."]}),e.jsx("textarea",{value:_,onChange:s=>M(s.target.value),placeholder:"Raison de l'annulation...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"4"}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx(j,{onClick:()=>f(!1),children:"Annuler"}),e.jsx(y,{onClick:K,children:"Confirmer l'annulation"})]})]})}),e.jsx(w,{show:L,onClose:()=>p(!1),maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Actions en lot (",n.length," rendez-vous)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Action à effectuer"}),e.jsxs("select",{value:d,onChange:s=>$(s.target.value),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Sélectionner une action"}),e.jsx("option",{value:"accept",children:"Accepter"}),e.jsx("option",{value:"reject",children:"Refuser"}),e.jsx("option",{value:"cancel",children:"Annuler"}),e.jsx("option",{value:"complete",children:"Marquer comme terminé"})]})]}),(d==="reject"||d==="cancel")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d==="reject"?"Raison du refus":"Raison de l'annulation"}),e.jsx("textarea",{value:N,onChange:s=>T(s.target.value),placeholder:`Raison du ${d==="reject"?"refus":"annulation"}...`,className:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:"3"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx(j,{onClick:()=>p(!1),children:"Annuler"}),e.jsx(y,{onClick:X,children:"Exécuter l'action"})]})]})})]})}export{me as default};
